<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nueva Reforma</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --sys-primary: #000000;
        --sys-accent: #0d6efd;
        --sys-bg: #ffffff;
      }

      body {
        font-family: "Roboto", sans-serif;
        background-color: var(--sys-bg);
        color: #374151;
      }

      h4,
      h5 {
        font-weight: 300;
        text-transform: uppercase;
        color: var(--sys-primary);
        letter-spacing: 0.5px;
      }

      .rounded-0,
      .card,
      .btn,
      .form-control,
      .form-select,
      .form-check-input {
        border-radius: 0 !important;
      }

      .form-control,
      .form-select {
        border: 1px solid #ced4da;
        background-color: #fff;
        font-size: 0.95rem;
      }
      .form-select:focus,
      .form-control:focus {
        border-color: var(--sys-primary);
        box-shadow: none;
        outline: 1px solid var(--sys-primary);
      }

      .form-check-input {
        border: 1px solid #6c757d;
        cursor: pointer;
        width: 1.1em;
        height: 1.1em;
        margin-top: 0.25em;
      }

      .form-check-input:checked {
        background-color: #e9ecef;
        border-color: #000000;

        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e");
      }

      .form-check-input:focus {
        box-shadow: 0 0 0 0.2rem rgba(0, 0, 0, 0.1);
        border-color: #000;
      }

      .form-check-label {
        font-size: 0.95rem;
      }

      .btn-primary {
        background-color: #0d6efd !important;
        border-color: #0d6efd !important;
        color: #ffffff !important;
        opacity: 1 !important;
        text-transform: uppercase;
        font-family: "JetBrains Mono", monospace;
        font-weight: 700;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .btn-primary:hover {
        background-color: #0b5ed7 !important;
      }

      .form-label {
        font-weight: 500;
        color: #000;
        font-size: 0.9rem;
        text-transform: uppercase;
      }

      .invalid-feedback,
      .text-danger {
        font-family: "JetBrains Mono", monospace;
        font-size: 0.8rem;
      }

      .group-card-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
      }
    </style>
  </head>
  <body>
    <div class="container mt-4">
      <div class="card p-4 shadow-sm">
        <h4 class="mb-3">Tipo de Vehículo</h4>

        <div class="mb-3">
          <label class="form-label">Seleccione el tipo de vehículo:</label>
          <select
            class="form-select"
            [(ngModel)]="tipoVehiculo"
            (change)="onTipoCambio()"
            [class.is-invalid]="tipoVehiculoInvalido"
          >
            <option [ngValue]="null" disabled selected>
              -- Seleccionar --
            </option>
            <option value="coche">Coche</option>
            <option value="moto">Moto</option>
            <option value="camper">Camper</option>
            <option value="industrial">Industrial</option>
          </select>
          <div class="invalid-feedback">
            Debe seleccionar un tipo de vehículo.
          </div>
        </div>

        @if (modificaciones.length > 0) {
        <div class="mt-4">
          <h5 class="mb-3">Modificaciones aplicables</h5>

          @for (grupo of grupos; track grupo.nombre; let g = $index) { @if
          (getModsDeGrupo(grupo.items).length > 0) {
          <div class="card mb-3 border-secondary-subtle">
            <div
              class="card-header group-card-header d-flex align-items-center py-2"
            >
              <div class="form-check m-0">
                <input
                  class="form-check-input"
                  type="checkbox"
                  [(ngModel)]="grupo.seleccionado"
                  id="grupo-check-{{ g }}"
                  (change)="onCambioGrupo(grupo)"
                />

                <label
                  class="form-check-label fw-bold text-uppercase ms-2"
                  for="grupo-check-{{ g }}"
                >
                  {{ grupo.nombre }}
                </label>
              </div>
            </div>

            @if (grupo.seleccionado) {
            <div class="card-body bg-white">
              @for (mod of getModsDeGrupo(grupo.items); track mod.nombre; let m
              = $index) {
              <div class="mb-3 border-bottom pb-3 last:border-0">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [(ngModel)]="mod.seleccionado"
                    [id]="'mod-' + g + '-' + m"
                    (change)="onCambioSubopcion(mod)"
                  />
                  <label
                    class="form-check-label fw-bold"
                    [for]="'mod-' + g + '-' + m"
                  >
                    {{ mod.nombre }}
                  </label>
                </div>

                @if (mod.nombre.includes('MUELLES') && mod.seleccionado) {
                <div class="mt-2 ms-4">
                  <label class="form-label"
                    >¿Qué elementos se han modificado?</label
                  >
                  @for (item of detallesMuellesOpciones; track item.key; let j =
                  $index) {
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detallesMuelles![item.key]"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="detalle-muelle-{{ g }}-{{ m }}-{{ j }}"
                      name="detalle-muelle-{{ g }}-{{ m }}-{{ j }}"
                    />
                    <label
                      class="form-check-label"
                      for="detalle-muelle-{{ g }}-{{ m }}-{{ j }}"
                    >
                      {{ item.label }}
                    </label>
                  </div>
                  } @if (!validarSubopciones() && mod.seleccionado &&
                  !mod.anotacion) { }

                  <label class="form-label mt-3">
                    ¿Desea añadir la anotación de la no modifican las
                    condiciones técnicas de dirección?
                  </label>
                  <select
                    class="form-select"
                    [(ngModel)]="mod.anotacion"
                    (ngModelChange)="actualizarError(m, mod)"
                  >
                    <option [ngValue]="null" disabled selected>
                      -- Seleccionar --
                    </option>
                    <option value="1">Sí</option>
                    <option value="2">No</option>
                  </select>
                </div>
                } @if (mod.nombre === 'NEUMÁTICOS' && mod.seleccionado) {
                <div class="ms-4 mt-2">
                  <label class="form-label"
                    >Seleccione anotaciones si procede:</label
                  >
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.anotacion1"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="anotacion1-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="anotacion1-{{ g }}-{{ m }}"
                    >
                      Diferencia superior al 8%
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.anotacion2"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="anotacion2-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="anotacion2-{{ g }}-{{ m }}"
                    >
                      Índice de velocidad menor del original
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'INTERMITENTES' && mod.seleccionado) {
                <div class="ms-4">
                  <label class="form-label"
                    >Seleccione la posicion de los intermitentes:</label
                  >
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle!.interDelantero"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="interDelantero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="interDelantero-{{ g }}-{{ m }}"
                    >
                      Delanteros
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle!.interTrasero"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="interTrasero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="interTrasero-{{ g }}-{{ m }}"
                    >
                      Traseros
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle!.interLateral"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="interLateral-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="interLateral-{{ g }}-{{ m }}"
                    >
                      Laterales
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'SUSTITUCIÓN DE EJES' && mod.seleccionado)
                {
                <div mod.detalle class="ms-4">
                  <label class="form-label">Seleccione el/los ejes:</label>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle!.sustitucionEjeDelantero"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="sustitucionEjeDelantero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="sustitucionEjeDelantero-{{ g }}-{{ m }}"
                    >
                      Delantero
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle!.sustitucionEjeTrasero"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="sustitucionEjeTrasero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="sustitucionEjeTrasero-{{ g }}-{{ m }}"
                    >
                      Trasero
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'ESTRIBOS LATERALES O TALONERAS' &&
                mod.seleccionado && mod.detalle) {
                <div class="ms-4 mt-2">
                  <label class="form-label">Seleccione cuál instaló:</label>
                  <select
                    class="form-select mb-1"
                    [(ngModel)]="mod.detalle.estribosotaloneras"
                    (ngModelChange)="validarSubopciones()"
                    name="estribosotaloneras-{{ g }}-{{ m }}"
                    [ngModelOptions]="{ standalone: true }"
                  >
                    <option [ngValue]="null" disabled>-- Seleccionar --</option>
                    <option value="estribos">Estribos</option>
                    <option value="taloneras">Taloneras</option>
                  </select>
                  <label class="form-label">¿Material antideslizante?</label>
                  <select
                    class="form-select mb-1"
                    [(ngModel)]="mod.detalle.anotacionAntideslizante"
                    (ngModelChange)="validarSubopciones()"
                    name="anotacionAntideslizante-{{ g }}-{{ m }}"
                    [ngModelOptions]="{ standalone: true }"
                  >
                    <option [ngValue]="null" disabled>-- Seleccionar --</option>
                    <option value="1">Sí</option>
                    <option value="2">No</option>
                  </select>
                </div>
                } @if (mod.nombre.includes('ALETINES') && mod.seleccionado &&
                mod.detalle) {
                <div class="ms-4">
                  <label class="form-label">Seleccione el tipo:</label>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle.aletines"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="aletines-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="aletines-{{ g }}-{{ m }}"
                    >
                      Aletines
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.detalle.sobrealetines"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="sobrealetines-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="sobrealetines-{{ g }}-{{ m }}"
                    >
                      Sobrealetines
                    </label>
                  </div>
                </div>
                } @if (mod.nombre.includes('MATRÍCULA') && mod.seleccionado &&
                mod.detalle) {
                <div class="ms-4">
                  <label class="form-label">Modificación de matrícula:</label>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="instalacionPorta-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.instalacionPorta"
                      name="instalacionPorta-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="instalacionPorta-{{ g }}-{{ m }}"
                    >
                      Portamatrículas trasero
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="reubicacionTrasera-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.reubicacionTrasera"
                      name="reubicacionTrasera-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="reubicacionTrasera-{{ g }}-{{ m }}"
                    >
                      Reubicación matrícula trasera
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="cambioUbicacionDelantera-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.cambioUbicacionDelantera"
                      name="cambioUbicacionDelantera-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="cambioUbicacionDelantera-{{ g }}-{{ m }}"
                    >
                      Cambio ubicación matrícula delantera
                    </label>
                  </div>
                </div>
                } @if (mod.nombre.includes('PILOTO TRASERO') && mod.seleccionado
                && mod.detalle) {
                <div class="ms-4">
                  <label class="form-label"
                    >¿Qué elementos va a sustituir?</label
                  >
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="luzPosYFreno-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.luzPosicionFreno"
                      name="luzPosicionFreno-{{ g }}-{{ m }}"
                      (change)="actualizarError(m, mod)"
                    />
                    <label
                      class="form-check-label"
                      for="luzPosYFreno-{{ g }}-{{ m }}"
                    >
                      Luz de posición y freno
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="intermitente-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.intermitente"
                      name="intermitente-{{ g }}-{{ m }}"
                      (ngModelChange)="actualizarError(m, mod)"
                    />
                    <label
                      class="form-check-label"
                      for="intermitente-{{ g }}-{{ m }}"
                    >
                      Intermitente
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="marchaAtras-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.marchaAtras"
                      name="marchaAtras-{{ g }}-{{ m }}"
                      (ngModelChange)="actualizarError(m, mod)"
                    />
                    <label
                      class="form-check-label"
                      for="marchaAtras-{{ g }}-{{ m }}"
                    >
                      Marcha atrás
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="catadioptrico-{{ g }}-{{ m }}"
                      [(ngModel)]="mod.detalle.catadioptrico"
                      name="catadioptrico-{{ g }}-{{ m }}"
                      (ngModelChange)="actualizarError(m, mod)"
                    />
                    <label
                      class="form-check-label"
                      for="catadioptrico-{{ g }}-{{ m }}"
                    >
                      Catadióptrico
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'MOBILIARIO INTERIOR VEHÍCULO' &&
                mod.seleccionado && mod.opcionesMueble) {
                <div class="ms-4">
                  <label class="form-label"
                    >¿Qué tipo de mueble desea indicar?</label
                  >
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.opcionesMueble.muebleBajo"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="muebleBajo-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="muebleBajo-{{ g }}-{{ m }}"
                    >
                      Mueble bajo
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.opcionesMueble.muebleAlto"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="muebleAlto-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="muebleAlto-{{ g }}-{{ m }}"
                    >
                      Mueble alto
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      [(ngModel)]="mod.opcionesMueble.aseo"
                      (ngModelChange)="actualizarError(m, mod)"
                      id="aseo-{{ g }}-{{ m }}"
                    />
                    <label class="form-check-label" for="aseo-{{ g }}-{{ m }}">
                      Aseo
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'INSTALACIÓN ELÉCTRICA' &&
                mod.seleccionado) {
                <div class="ms-4">
                  <label class="form-label">
                    ¿Desea añadir anotación para avisar que solamente puede
                    funcionar con el vehículo parado?
                  </label>
                  <select class="form-select" [(ngModel)]="mod.anotacion">
                    <option [ngValue]="null" disabled selected>
                      -- Seleccionar --
                    </option>
                    <option [ngValue]="true">Sí</option>
                    <option [ngValue]="false">No</option>
                  </select>
                </div>
                } @if (mod.nombre === 'AUMENTO O DISMINUCIÓN DE PLAZAS' &&
                mod.seleccionado) {
                <div class="ms-4">
                  <label class="form-label">Tipo de modificación:</label>
                  <select class="form-select" [(ngModel)]="mod.tipoCambio">
                    <option [ngValue]="null" disabled selected>
                      -- Seleccionar --
                    </option>
                    <option value="aumento">Aumento</option>
                    <option value="disminucion">Disminución</option>
                  </select>
                </div>
                }
                <div
                  *ngIf="
                    mod.nombre === 'REDUCCIÓN MMA Y MMTA' && mod.seleccionado
                  "
                  class="ms-4"
                >
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="mod.ejeDelantero"
                      id="ejeDelantero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="ejeDelantero-{{ g }}-{{ m }}"
                    >
                      Reducción en eje delantero
                    </label>
                  </div>

                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="mod.ejeTotal"
                      id="ejeTotal-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="ejeTotal-{{ g }}-{{ m }}"
                    >
                      Reducción total
                    </label>
                  </div>

                  <p
                    *ngIf="erroresSubopciones[modificaciones.indexOf(mod)]"
                    class="text-danger small mt-1"
                  >
                    Debes seleccionar al menos una opción.
                  </p>
                </div>
                @if (mod.nombre === 'SUSTITUCIÓN GUARDABARROS' &&
                mod.seleccionado) {
                <div class="ms-4">
                  <label class="form-label"
                    >¿Qué guardabarros se ha sustituido?</label
                  >
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="mod.guardabarrosDelantero"
                      id="guardabarrosDelantero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="guardabarrosDelantero-{{ g }}-{{ m }}"
                    >
                      Delantero
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="mod.guardabarrosTrasero"
                      id="guardabarrosTrasero-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="guardabarrosTrasero-{{ g }}-{{ m }}"
                    >
                      Trasero
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'DISCO DE FRENO Y PINZA DE FRENO' &&
                mod.seleccionado) {
                <div class="ms-4">
                  <label class="form-label"
                    >¿Qué componente de freno se ha modificado?</label
                  >
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="mod.tieneDisco"
                      id="tieneDisco-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="tieneDisco-{{ g }}-{{ m }}"
                    >
                      Disco de freno
                    </label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="mod.tienePastilla"
                      id="tienePastilla-{{ g }}-{{ m }}"
                    />
                    <label
                      class="form-check-label"
                      for="tienePastilla-{{ g }}-{{ m }}"
                    >
                      Pinza de freno
                    </label>
                  </div>
                </div>
                } @if (mod.nombre === 'LUCES' && mod.seleccionado) {
                <div class="mt-3 ms-4 border-start ps-3">
                  <label class="form-label">
                    ¿Qué modificaciones se han hecho en luces?
                  </label>
                  @for (item of opcionesDescripcionLuces; track item.key; let k
                  = $index) {
                  <div class="form-check mb-1">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="luces-{{ g }}-{{ m }}-{{ k }}"
                      [(ngModel)]="mod.descripcionLuces![item.key]"
                    />
                    <label
                      class="form-check-label"
                      for="luces-{{ g }}-{{ m }}-{{ k }}"
                    >
                      {{ item.label }}
                    </label>
                  </div>
                  }
                </div>
                }
              </div>
              }
            </div>
            }
          </div>
          }
        }
        </div>
        } @if (getModsSinGrupo().length > 0) {
        <div class="card mb-3 border-secondary-subtle">
          <div class="card-header bg-warning-subtle fw-bold text-uppercase">
            Otras Modificaciones
          </div>
          <div class="card-body">
            @for (mod of getModsSinGrupo(); track mod.nombre) {
            <div class="mb-3 border-bottom pb-3">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  [(ngModel)]="mod.seleccionado"
                  [id]="'mod-otros-' + $index"
                  (change)="onCambioSubopcion(mod)"
                />
                <label
                  class="form-check-label fw-bold"
                  [for]="'mod-otros-' + $index"
                >
                  {{ mod.nombre }}
                </label>
              </div>

              @if (mod.nombre === 'REDUCCIÓN MMA Y MMTA' && mod.seleccionado) {
              <div class="ms-4 mt-2">
                <label class="form-label">¿Qué se modifica?</label>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [id]="'ejeDelantero-otros-' + $index"
                    [(ngModel)]="mod.ejeDelantero"
                    (change)="
                      onCambioSubopcion(mod);
                      actualizarError(modificaciones.indexOf(mod), mod)
                    "
                  />
                  <label
                    class="form-check-label"
                    [for]="'ejeDelantero-otros-' + $index"
                  >
                    Reducción en eje delantero
                  </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [id]="'ejeTotal-otros-' + $index"
                    [(ngModel)]="mod.ejeTotal"
                    (change)="
                      onCambioSubopcion(mod);
                      actualizarError(modificaciones.indexOf(mod), mod)
                    "
                  />
                  <label
                    class="form-check-label"
                    [for]="'ejeTotal-otros-' + $index"
                  >
                    Reducción total
                  </label>
                </div>

                @if (erroresSubopciones[modificaciones.indexOf(mod)]) {
                <p class="text-danger small mt-1">
                  Debes seleccionar al menos una opción.
                </p>
                }
              </div>
              }
            </div>
            }
          </div>
        </div>
        }

        <div class="d-flex justify-content-end mt-4">
          <button class="btn btn-primary" (click)="continuarFormulario()">
            Continuar →
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
