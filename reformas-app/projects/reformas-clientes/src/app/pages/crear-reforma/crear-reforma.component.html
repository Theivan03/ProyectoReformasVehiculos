<div class="container mt-3">
  <div class="row align-items-center mb-3">
    <!-- Texto -->
    <div class="col-md-9">
      <h2 class="mb-1">Nueva Reforma</h2>
      <p class="mb-0">
        Rellene toda la informaci√≥n para poder proceder a realizar el proyecto
        para su veh√≠culo.
      </p>
    </div>

    <!-- Bot√≥n reset -->
    <div class="col-md-3 text-md-end mt-3 mt-md-0">
      <button
        class="btn btn-danger btn-lg fw-bold w-100 w-md-auto"
        (click)="resetReforma()"
      >
        üóëÔ∏è Reiniciar
      </button>
    </div>
  </div>
</div>

<div class="container mt-4">
  <!-- 1) Tipo de veh√≠culo -->
  @if (mostrarTipoVehiculo) {
  <app-tipo-vehiculo
    [datosPrevios]="datosGuardadosTipoVehiculo || {}"
    (autosave)="onAutosaveTipoVehiculo($event)"
    (continuar)="onContinuarTipoVehiculo($event)"
    (volver)="onVolverDesdeTipoVehiculo($event)"
  >
  </app-tipo-vehiculo>
  }

  <!-- 2) Formulario del proyecto -->
  @if (mostrarFormularioProyecto) {
  <app-formulario-proyecto
    [respuestas]="datosGenerales || {}"
    [datosIniciales]="datosParaResumen || null"
    (volverAReforma)="onVolverDesdeFormulario($event)"
    (finalizarFormulario)="onFinalizarFormulario($event)"
  >
  </app-formulario-proyecto>
  }

  <!-- 3) Reformas previas -->
  @if (mostrarReformasPrevias) {
  <app-reformas-previas
    [datos]="datosGenerales || {}"
    (autosave)="onAutosaveReformasPrevias($event)"
    (continuar)="onContinuarDesdeReformasPrevias($event)"
    (volverAlFormulario)="onVolverDesdeReformasPrevias($event)"
  >
  </app-reformas-previas>
  }

  <!-- 4) Resumen de modificaciones -->
  @if (mostrarResumenModificaciones) {
  <app-resumen-modificaciones
    [datosEntrada]="datosParaResumen"
    (volver)="onVolverDesdeResumenModificaciones($event)"
    (continuar)="onContinuarDesdeResumenModificaciones($event)"
  >
  </app-resumen-modificaciones>
  }

  <!-- 5) Im√°genes -->
  @if (mostrarImagenes) {
  <app-imagenes
    [datosEntrada]="datosParaResumen"
    (autosave)="onAutosaveImagenes($event)"
    (volver)="onVolverDesdeImagenes($event)"
    (continuar)="onContinuarDesdeImagenes($event)"
  >
  </app-imagenes>
  }

  <!-- 6) Finalizar -->
  @if (mostrarFinalizar) {
  <app-finalizar-reforma
    [reformaData]="datosGenerales || {}"
    (volverAlFormulario)="onVolverDesdeFinalizar($event)"
  >
  </app-finalizar-reforma>
  }
</div>
